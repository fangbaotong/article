<html><head><meta http-equiv='Content-Type' content='text/html; charset=UTF-8'><title>MySQL存储过程详解</title>
<style>
body{
	width:960px;
	margin:0 auto;
}
#title{
	text-align:center;
}
</style>
</head><body><div id='title'><h2>MySQL存储过程详解</h2></div><p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<b><span style="line-height:24px;font-size:12pt;"><span><span>1.<span style="line-height:normal;font-weight:normal;font-size:7pt;font-family:'Times new roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span></b>&nbsp;<b><span style="line-height:24px;font-family:宋体;font-size:12pt;">存储过程简介</span></b>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<b><span style="line-height:24px;font-size:12pt;"><span>&nbsp;</span></span></b>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">我们常用的操作数据库语言</span><span><span>SQL</span></span><span style="font-family:宋体;">语句在执行的时候需要要先编译，然后执行，而存储过程（</span><span><span>Stored Procedure</span></span><span style="font-family:宋体;">）是一组为了完成特定功能的</span><span><span>SQL</span></span><span style="font-family:宋体;">语句集，经编译后存储在数据库中，用户通过指定存储过程的名字并给定参数（如果该存储过程带有参数）来调用执行它。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span style="font-size:10.5pt;"><span>一个存储过程是一个可编程的函数，它在数据库中创建并保存。它可以有</span></span><span style="font-family:'Times new roman';font-size:10.5pt;">SQL</span><span>语句和一些特殊的控制结构组成。当希望在不同的应用程序或平台上执行相同的函数，或者封装特定功能时，存储过程是非常有用的。数据库中的存储过程可以看做是对编程中面向对象方法的模拟。它允许控制数据的访问方式。</span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span>存储过程通常有以下优点：</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span><span>(1).</span></span><span style="font-family:宋体;">存储过程增强了</span><span><span>SQL</span></span><span style="font-family:宋体;">语言的功能和灵活性。存储过程可以用流控制语句编写，有很强的灵活性，可以完成复杂的判断和较复杂的运算。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span><span>(2).</span></span><span style="font-family:宋体;">存储过程允许标准组件是编程。存储过程被创建后，可以在程序中被多次调用，而不必重新编写该存储过程的</span><span><span>SQL</span></span><span style="font-family:宋体;">语句。而且数据库专业人员可以随时对存储过程进行修改，对应用程序源代码毫无影响。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span><span>(3).</span></span><span style="font-family:宋体;">存储过程能实现较快的执行速度。如果某一操作包含大量的</span><span><span>Transaction-SQL</span></span><span style="font-family:宋体;">代码或分别被多次执行，那么存储过程要比批处理的执行速度快很多。因为存储过程是预编译的。在首次运行一个存储过程时查询，优化器对其进行分析优化，并且给出最终被存储在系统表中的执行计划。而批处理的</span><span><span>Transaction-SQL</span></span><span style="font-family:宋体;">语句在每次运行时都要进行编译和优化，速度相对要慢一些。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span><span>(4).</span></span><span style="font-family:宋体;">存储过程能过减少网络流量。针对同一个数据库对象的操作（如查询、修改），如果这一操作所涉及的</span><span><span>Transaction-SQL</span></span><span style="font-family:宋体;">语句被组织程存储过程，那么当在客户计算机上调用该存储过程时，网络中传送的只是该调用语句，从而大大增加了网络流量并降低了网络负载。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span><span>(5).</span></span><span style="font-family:宋体;">存储过程可被作为一种安全机制来充分利用。系统管理员通过执行某一存储过程的权限进行限制，能够实现对相应的数据的访问权限的限制，避免了非授权用户对数据的访问，保证了数据的安全。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:-18pt;background-color:#E8DCC8;">
	<b><span style="line-height:24px;font-size:12pt;"><span><span>2.<span style="line-height:normal;font-weight:normal;font-size:7pt;font-family:'Times new roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span></b>&nbsp;<b><span style="line-height:24px;font-family:宋体;font-size:12pt;">关于</span></b><b><span style="line-height:24px;font-size:12pt;"><span>MySQL</span></span></b><b><span style="line-height:24px;font-family:宋体;font-size:12pt;">的存储过程</span></b>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span style="font-size:10.5pt;"><span>存储过程是数据库存储的一个重要的功能，但是</span></span><span style="font-family:'Times new roman';font-size:10.5pt;">MySQL</span><span style="font-size:10.5pt;"><span>在</span></span><span style="font-family:'Times new roman';font-size:10.5pt;">5.0</span><span style="font-size:10.5pt;"><span>以前并不支持存储过程，这使得</span></span><span style="font-family:'Times new roman';font-size:10.5pt;">MySQL</span><span style="font-size:10.5pt;"><span>在应用上大打折扣。好在</span></span><span style="font-family:'Times new roman';font-size:10.5pt;">MySQL 5.0</span><span>终于开始已经支持存储过程，这样即可以大大提高数据库的处理速度，同时也可以提高数据库编程的灵活性。</span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:-18pt;background-color:#E8DCC8;">
	<span><b><span style="line-height:24px;font-size:12pt;"><span>3.<span style="line-height:normal;font-weight:normal;font-size:7pt;font-family:'Times new roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></b>&nbsp;<b><span style="line-height:24px;font-size:12pt;">MySQL</span></b></span><b><span style="line-height:24px;font-family:宋体;font-size:12pt;">存储过程的创建</span></b>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<b><span style="line-height:24px;font-size:12pt;"><span>&nbsp;</span></span></b>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span>(1).</span></span></b>&nbsp;<b><span style="font-family:宋体;">格式</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span><span>MySQL</span></span><span style="font-family:宋体;">存储过程创建的格式：</span><span><span>CREATE PROCEDURE</span></span>&nbsp;<span style="font-family:宋体;">过程名</span>&nbsp;<span><span>([</span></span><span style="font-family:宋体;">过程参数</span></span><span><span><span>[,...]])<br />
[</span></span><span style="font-family:宋体;">特性</span>&nbsp;<span><span>...]</span></span>&nbsp;<span style="font-family:宋体;">过程体</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">这里先举个例子：<br />
&nbsp;&nbsp;&nbsp;<br />
</span></span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;proc1(</span><span>OUT</span><span>&nbsp;s&nbsp;</span><span>int</span><span>) &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>BEGIN</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;</span><span>COUNT</span><span>(*)&nbsp;</span><span>INTO</span><span>&nbsp;s&nbsp;</span><span>FROM</span><span>&nbsp;</span><span>user</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>END</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&gt;&nbsp;DELIMITER&nbsp;;&nbsp;</span>
	</li>
</ol>
<pre>&nbsp;</pre>
<span style="line-height:21px;color:#464646;font-size:14px;font-family:宋体;background-color:#E8DCC8;"><span>注：</span></span><span style="color:#464646;font-family:simsun;font-size:14px;line-height:21px;background-color:#E8DCC8;"></span>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">（</span><span><span>1</span></span><span style="font-family:宋体;">）这里需要注意的是</span><span><span>DELIMITER //</span></span><span style="font-family:宋体;">和</span><span><span>DELIMITER ;</span></span><span style="font-family:宋体;">两句，</span><span><span>DELIMITER</span></span><span style="font-family:宋体;">是分割符的意思，因为</span><span><span>MySQL</span></span><span style="font-family:宋体;">默认以</span><span><span>";"</span></span><span style="font-family:宋体;">为分隔符，如果我们没有声明分割符，那么编译器会把存储过程当成</span><span><span>SQL</span></span><span style="font-family:宋体;">语句进行处理，则存储过程的编译过程会报错，所以要事先用</span><span><span>DELIMITER</span></span><span style="font-family:宋体;">关键字申明当前段分隔符，这样</span><span><span>MySQL</span></span><span style="font-family:宋体;">才会将</span><span><span>";"</span></span><span style="font-family:宋体;">当做存储过程中的代码，不会执行这些代码，用完了之后要把分隔符还原。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">（</span><span><span>2</span></span><span style="font-family:宋体;">）存储过程根据需要可能会有输入、输出、输入输出参数，这里有一个输出参数</span><span><span>s</span></span><span style="font-family:宋体;">，类型是</span><span><span>int</span></span><span style="font-family:宋体;">型，如果有多个参数用</span><span><span>","</span></span><span style="font-family:宋体;">分割开。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">（</span><span><span>3</span></span><span style="font-family:宋体;">）过程体的开始与结束使用</span><span><span>BEGIN</span></span><span style="font-family:宋体;">与</span><span><span>END</span></span><span style="font-family:宋体;">进行标识。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">这样，我们的一个</span><span><span>MySQL</span></span><span style="font-family:宋体;">存储过程就完成了，是不是很容易呢</span><span><span>?</span></span><span style="font-family:宋体;">看不懂也没关系，接下来，我们详细的讲解。</span></span>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span>(2).</span></span></b>&nbsp;<b><span style="font-family:宋体;">声明分割符</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<b><span><span>&nbsp;</span></span></b>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">其实，关于声明分割符，上面的注解已经写得很清楚，不需要多说，只是稍微要注意一点的是：如果是用</span><span><span>MySQL</span></span><span style="font-family:宋体;">的</span><span><span>Administrator</span></span><span style="font-family:宋体;">管理工具时，可以直接创建，不再需要声明。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span>(3).</span></span></b>&nbsp;<b><span style="font-family:宋体;">参数</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span><span>MySQL</span></span><span style="font-family:宋体;">存储过程的参数用在存储过程的定义，共有三种参数类型</span><span><span>,IN,OUT,INOUT,</span></span><span style="font-family:宋体;">形式如：</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span><span>CREATE PROCEDURE([[IN |OUT |INOUT ]</span></span>&nbsp;<span style="font-family:宋体;">参数名</span>&nbsp;<span style="font-family:宋体;">数据类形</span><span><span>...])</span></span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><b><span><span>IN</span></span></b>&nbsp;<b><span style="font-family:宋体;">输入参数</span><span><span>:</span></span></b><span style="font-family:宋体;">表示该参数的值必须在调用存储过程时指定，在存储过程中修改该参数的值不能被返回，为默认值</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><b><span><span>OUT</span></span></b>&nbsp;<b><span style="font-family:宋体;">输出参数</span><span><span>:</span></span></b><span style="font-family:宋体;">该值可在存储过程内部被改变，并可返回</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><b><span><span>INOUT</span></span></b>&nbsp;<b><span style="font-family:宋体;">输入输出参数</span><span><span>:</span></span></b><span style="font-family:宋体;">调用时指定，并且可被改变和返回</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span style="font-family:宋体;">Ⅰ</span><span><span>. IN</span></span></b><b><span style="font-family:宋体;">参数例子</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">创建</span><span><span>:</span></span></span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;demo_in_parameter(</span><span>IN</span><span>&nbsp;p_in&nbsp;</span><span>int</span><span>) &nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>BEGIN</span><span>&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;p_in;&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>SET</span><span>&nbsp;p_in=2;&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;p_in;&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>END</span><span>;&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span><br />
执行结果</span></span><span><span>:<br />
</span></span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span><span>mysql&nbsp;&gt;&nbsp;</span><span>SET</span><span>&nbsp;@p_in=1; &nbsp;</span></span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;CALL&nbsp;demo_in_parameter(@p_in); &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;p_in&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>+</span><span>------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;</span>
	</li>
	<li>
		<span>+</span><span>------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;p_in&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>+</span><span>------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;</span>
	</li>
	<li>
		<span>mysql&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;@p_in; &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;@p_in&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;"><br />
以上可以看出，</span><span><span>p_in</span></span><span style="font-family:宋体;">虽然在存储过程中被修改，但并不影响</span><span><span>@p_id</span></span><span style="font-family:宋体;">的值</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span style="font-family:宋体;">Ⅱ</span><span><span>.OUT</span></span></b><b><span style="font-family:宋体;">参数例子</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">创建</span><span><span>:</span></span></span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;demo_out_parameter(</span><span>OUT</span><span>&nbsp;p_out&nbsp;</span><span>int</span><span>) &nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>BEGIN</span><span>&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;p_out; &nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>SET</span><span>&nbsp;p_out=2; &nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;p_out; &nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>END</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span><span><br />
</span></span><span style="font-family:宋体;">执行结果</span></span><span><span><span>:<br />
</span></span></span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span><span>mysql&nbsp;&gt;&nbsp;</span><span>SET</span><span>&nbsp;@p_out=1; &nbsp;</span></span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;CALL&nbsp;sp_demo_out_parameter(@p_out); &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;p_out&nbsp;|&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;</span><span>NULL</span><span>&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;p_out&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;</span>
	</li>
	<li>
		<span>mysql&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;@p_out; &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;p_out&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------+</span>&nbsp;<span>&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span><span><br />
</span></span></span><span><b><span style="font-family:宋体;">Ⅲ</span><span><span>. INOUT</span></span></b><b><span style="font-family:宋体;">参数例子</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">创建</span><span><span>:<br />
</span></span></span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span><span>&nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;demo_inout_parameter(INOUT&nbsp;p_inout&nbsp;</span><span>int</span><span>) &nbsp;</span><span>&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>BEGIN</span><span>&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;p_inout; &nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>SET</span><span>&nbsp;p_inout=2; &nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;p_inout;&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>END</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;//&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:26.25pt;background-color:#E8DCC8;">
	&nbsp;
</p>
<span style="line-height:21px;color:#464646;font-size:14px;font-family:宋体;background-color:#E8DCC8;"><span>执行结果</span></span><span style="line-height:21px;color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;"><span>:<br />
</span></span><span style="color:#464646;font-family:simsun;font-size:14px;line-height:21px;background-color:#E8DCC8;"></span>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span><span><span><span>mysql&nbsp;</span><span>&gt;</span><span>&nbsp;SET&nbsp;@</span><span>p_inout</span><span>=</span><span>1</span><span>; &nbsp;</span></span></span></span>
	</li>
	<li>
		<span>mysql&nbsp;</span><span>&gt;</span><span>&nbsp;CALL&nbsp;demo_inout_parameter(@p_inout)&nbsp;; &nbsp;</span>
	</li>
	<li>
		<span>+---------+ &nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;p_inout&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+---------+ &nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+---------+ &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;</span>
	</li>
	<li>
		<span>+---------+ &nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;p_inout&nbsp;|&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>+---------+ &nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+---------+ &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;</span><span>&gt;</span><span>&nbsp;SELECT&nbsp;@p_inout; &nbsp;</span>
	</li>
	<li>
		<span>+----------+ &nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;@p_inout&nbsp;|&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>+----------+ &nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+----------+&nbsp;</span>
	</li>
</ol>
<br />
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span>(4).</span></span></b>&nbsp;<b><span style="font-family:宋体;">变量</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span style="font-family:宋体;">Ⅰ</span><span><span>.</span></span></b>&nbsp;<b><span style="font-family:宋体;">变量定义</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span>DECLARE variable_name [,variable_name...] datatype [DEFAULT value];</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">其中，</span><span><span>datatype</span></span><span style="font-family:宋体;">为</span><span><span>MySQL</span></span><span style="font-family:宋体;">的数据类型，如</span><span><span>:int, float, date, varchar(length)</span></span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">例如</span><span><span>:<br />
</span></span></span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span><span>DECLARE</span><span>&nbsp;l_int&nbsp;</span><span>int</span><span>&nbsp;unsigned&nbsp;</span><span>default</span><span>&nbsp;4000000; &nbsp;</span></span>
	</li>
	<li>
		<span>DECLARE</span><span>&nbsp;l_numeric&nbsp;number(8,2)&nbsp;</span><span>DEFAULT</span><span>&nbsp;9.95; &nbsp;</span>
	</li>
	<li>
		<span>DECLARE</span><span>&nbsp;l_date&nbsp;</span><span>date</span><span>&nbsp;</span><span>DEFAULT</span><span>&nbsp;</span><span>'1999-12-31'</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>DECLARE</span><span>&nbsp;l_datetime&nbsp;datetime&nbsp;</span><span>DEFAULT</span><span>&nbsp;</span><span>'1999-12-31&nbsp;23:59:59'</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>DECLARE</span><span>&nbsp;l_varchar&nbsp;</span><span>varchar</span><span>(255)&nbsp;</span><span>DEFAULT</span><span>&nbsp;</span><span>'This&nbsp;will&nbsp;not&nbsp;be&nbsp;padded'</span><span>;&nbsp;&nbsp;&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<span style="background-color:#E8DCC8;"><b><span style="font-family:宋体;">Ⅱ</span><span><span>.</span></span></b>&nbsp;<b><span style="font-family:宋体;">变量赋值</span></b></span><span style="color:#464646;font-family:simsun;font-size:14px;line-height:21px;background-color:#E8DCC8;"></span>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;<span><span><span>SET</span></span>&nbsp;<span style="font-family:宋体;">变量名</span>&nbsp;<span><span>=</span></span>&nbsp;<span style="font-family:宋体;">表达式值</span>&nbsp;<span><span>[,variable_name = expression ...]</span></span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span style="font-family:宋体;">Ⅲ</span><span><span>.</span></span></b>&nbsp;<b><span style="font-family:宋体;">用户变量</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">ⅰ</span><span><span>.</span></span>&nbsp;<span style="font-family:宋体;">在</span><span><span>MySQL</span></span><span style="font-family:宋体;">客户端使用用户变量<br />
</span></span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span><span>mysql&nbsp;&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;</span><span>'Hello&nbsp;World'</span><span>&nbsp;</span><span>into</span><span>&nbsp;@x; &nbsp;</span></span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;@x; &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;@x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;<a href="http://www.chengxusheji.com/" target="_blank">Hello&nbsp;World</a>&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>SET</span><span>&nbsp;@y=</span><span>'Goodbye&nbsp;Cruel&nbsp;World'</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;@y; &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>---------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>---------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;Goodbye&nbsp;Cruel&nbsp;World&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>---------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>SET</span><span>&nbsp;@z=1+2+3; &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>SELECT</span><span>&nbsp;@z; &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;@z&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;6&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>------+</span>&nbsp;<span>&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span style="font-family:'Times new roman';font-size:10.5pt;">ⅱ.</span>&nbsp;<span>在存储过程中使用用户变量<br />
</span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span><span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;GreetWorld(&nbsp;)&nbsp;</span><span>SELECT</span><span>&nbsp;CONCAT(@greeting,</span><span>'&nbsp;World'</span><span>); &nbsp;</span></span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>SET</span><span>&nbsp;@greeting=</span><span>'Hello'</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;CALL&nbsp;GreetWorld(&nbsp;); &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>----------------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;CONCAT(@greeting,</span><span>'&nbsp;World'</span><span>)&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>----------------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;Hello&nbsp;World&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>----------------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<span style="line-height:21px;color:#464646;font-family:simsun;font-size:10.5pt;background-color:#E8DCC8;"><span>ⅲ</span></span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">.</span><span style="color:#464646;font-family:simsun;font-size:14px;line-height:21px;background-color:#E8DCC8;">&nbsp;</span><span style="background-color:#E8DCC8;"><span style="font-size:10.5pt;">在存储过程间传递全局范围的用户变量<br />
</span></span><span style="color:#464646;font-family:simsun;font-size:14px;line-height:21px;background-color:#E8DCC8;"></span>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span><span>mysql&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;p1()&nbsp;&nbsp;&nbsp;</span><span>SET</span><span>&nbsp;@last_procedure=</span><span>'p1'</span><span>; &nbsp;</span></span>
	</li>
	<li>
		<span>mysql&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;p2()&nbsp;</span><span>SELECT</span><span>&nbsp;CONCAT(</span><span>'Last&nbsp;procedure&nbsp;was&nbsp;'</span><span>,@last_proc); &nbsp;</span>
	</li>
	<li>
		<span>mysql&gt;&nbsp;CALL&nbsp;p1(&nbsp;); &nbsp;</span>
	</li>
	<li>
		<span>mysql&gt;&nbsp;CALL&nbsp;p2(&nbsp;); &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-----------------------------------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;CONCAT(</span><span>'Last&nbsp;procedure&nbsp;was&nbsp;'</span><span>,@last_proc&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-----------------------------------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;</span><span>Last</span><span>&nbsp;</span><span>procedure</span><span>&nbsp;was&nbsp;p1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-----------------------------------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<span style="background-color:#E8DCC8;"><span style="font-family:宋体;">注意</span><span><span>:</span></span></span><span style="color:#464646;font-family:simsun;font-size:14px;line-height:21px;background-color:#E8DCC8;"></span>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span><span><span>①</span></span><span style="font-family:宋体;">用户变量名一般以</span><span><span>@</span></span><span style="font-family:宋体;">开头</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span><span><span>②</span></span><span style="font-family:宋体;">滥用用户变量会导致程序难以理解及管理</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span>(5).</span></span></b>&nbsp;<b><span style="font-family:宋体;">注释</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<b><span><span>&nbsp;</span></span></b>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span><span><span>MySQL</span></span><span style="font-family:宋体;">存储过程可使用两种风格的注释</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">双模杠：</span><span><span>--</span></span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span>该风格一般用于单行注释</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span><span>c</span></span><span style="font-family:宋体;">风格：</span>&nbsp;<span style="font-family:宋体;">一般用于多行注释</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span>例如：</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;proc1&nbsp;</span><span>--name存储过程名</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;(</span><span>IN</span><span>&nbsp;parameter1&nbsp;</span><span>INTEGER</span><span>)&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>BEGIN</span><span>&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>DECLARE</span><span>&nbsp;variable1&nbsp;</span><span>CHAR</span><span>(10);&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;IF&nbsp;parameter1&nbsp;=&nbsp;17&nbsp;</span><span>THEN</span><span>&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>SET</span><span>&nbsp;variable1&nbsp;=&nbsp;</span><span>'birds'</span><span>;&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>ELSE</span><span>&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>SET</span><span>&nbsp;variable1&nbsp;=&nbsp;</span><span>'beasts'</span><span>;&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>END</span><span>&nbsp;IF;&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>INSERT</span><span>&nbsp;</span><span>INTO</span><span>&nbsp;table1&nbsp;</span><span>VALUES</span><span>&nbsp;(variable1); &nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;</span><span>END</span><span>&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>-&gt;&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;; &nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:-18pt;background-color:#E8DCC8;">
	<span><b><span style="line-height:24px;font-size:12pt;"><span>4.<span style="line-height:normal;font-weight:normal;font-size:7pt;font-family:'Times new roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></b>&nbsp;<b><span style="line-height:24px;font-size:12pt;">MySQL</span></b></span><b><span style="line-height:24px;font-family:宋体;font-size:12pt;">存储过程的调用</span></b>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span style="font-size:10.5pt;"><span>用</span></span><span style="font-family:'Times new roman';font-size:10.5pt;">call</span><span>和你过程名以及一个括号，括号里面根据需要，加入参数，参数包括输入参数、输出参数、输入输出参数。具体的调用方法可以参看上面的例子。</span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:-18pt;background-color:#E8DCC8;">
	<span><b><span style="line-height:24px;font-size:12pt;"><span>5.<span style="line-height:normal;font-weight:normal;font-size:7pt;font-family:'Times new roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></b>&nbsp;<b><span style="line-height:24px;font-size:12pt;">MySQL</span></b></span><b><span style="line-height:24px;font-family:宋体;font-size:12pt;">存储过程的查询</span></b>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">我们像知道一个数据库下面有那些表，我们一般采用</span><span><span>show tables;</span></span><span style="font-family:宋体;">进行查看。那么我们要查看某个数据库下面的存储过程，是否也可以采用呢？答案是，我们可以查看某个数据库下面的存储过程，但是是令一钟方式。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span>我们可以用</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span><span><span>select name from mysql.proc where db=’</span></span><span style="font-family:宋体;">数据库名</span><span><span>’;</span></span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span>或者</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span><span><span>select routine_name from information_schema.routines where routine_schema='</span></span><span style="font-family:宋体;">数据库名</span><span><span>';</span></span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span>或者</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span><span><span>show procedure status where db='</span></span></span><a href="http://www.redisfans.com/" target="_blank">数据库</a><span><span style="font-family:宋体;">名</span><span><span>';</span></span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span>进行查询。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">如果我们想知道，某个存储过程的详细，那我们又该怎么做呢？是不是也可以像操作表一样用</span><span><span>describe</span></span>&nbsp;<span style="font-family:宋体;">表名进行查看呢？</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span>答案是：我们可以查看存储过程的详细，但是需要用另一种方法：</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span><span><span>SHOW CREATE PROCEDURE</span></span>&nbsp;<span style="font-family:宋体;">数据库</span><span><span>.</span></span><span style="font-family:宋体;">存储过程名</span><span><span>;</span></span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span>就可以查看当前存储过程的详细。</span></span>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:-18pt;background-color:#E8DCC8;">
	<span><b><span style="line-height:24px;font-size:12pt;"><span>6.<span style="line-height:normal;font-weight:normal;font-size:7pt;font-family:'Times new roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></b>&nbsp;<b><span style="line-height:24px;font-size:12pt;">MySQL</span></b></span><b><span style="line-height:24px;font-family:宋体;font-size:12pt;">存储过程的修改</span></b>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span><span>ALTER PROCEDURE</span></span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">更改用</span><span><span>CREATE PROCEDURE</span></span>&nbsp;<span style="font-family:宋体;">建立的预先指定的存储过程，其不会影响相关存储过程或存储功能。</span></span>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:-18pt;background-color:#E8DCC8;">
	<span><b><span style="line-height:24px;font-size:12pt;"><span>7.<span style="line-height:normal;font-weight:normal;font-size:7pt;font-family:'Times new roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></b>&nbsp;<b><span style="line-height:24px;font-size:12pt;">MySQL</span></b></span><b><span style="line-height:24px;font-family:宋体;font-size:12pt;">存储过程的删除</span></b>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">删除一个存储过程比较简单，和删除表一样：</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span>DROP PROCEDURE</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">从</span><span><span>MySQL</span></span><span style="font-family:宋体;">的表格中删除一个或多个存储过程。</span></span>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:-18pt;background-color:#E8DCC8;">
	<span><b><span style="line-height:24px;font-size:12pt;"><span>8.<span style="line-height:normal;font-weight:normal;font-size:7pt;font-family:'Times new roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></b>&nbsp;<b><span style="line-height:24px;font-size:12pt;">MySQL</span></b></span><b><span style="line-height:24px;font-family:宋体;font-size:12pt;">存储过程的控制语句</span></b>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span>(1).</span></span></b>&nbsp;<b><span style="font-family:宋体;">变量作用域</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:18pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">内部的变量在其作用域范围内享有更高的优先权，当执行到</span><span><span>end</span></span><span style="font-family:宋体;">。变量时，内部变量消失，此时已经在其作用域外，变量不再可见了，应为在存储</span></span><span><br />
</span><span><span style="font-family:宋体;">过程外再也不能找到这个申明的变量，但是你可以通过</span><span><span>out</span></span><span style="font-family:宋体;">参数或者将其值指派</span></span><span><br />
</span><span style="font-family:宋体;"><span>给会话变量来保存其值。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;proc3() &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>begin</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>declare</span><span>&nbsp;x1&nbsp;</span><span>varchar</span><span>(5)&nbsp;</span><span>default</span><span>&nbsp;</span><span>'outer'</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>begin</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>declare</span><span>&nbsp;x1&nbsp;</span><span>varchar</span><span>(5)&nbsp;</span><span>default</span><span>&nbsp;</span><span>'inner'</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>select</span><span>&nbsp;x1; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>select</span><span>&nbsp;x1; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;; &nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span><span>&nbsp;</span>(2).</span></span></b>&nbsp;<b><span style="font-family:宋体;">条件语句</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span style="font-family:宋体;">Ⅰ</span></b><b><span style="font-family:Arial;">. if-then -else</span></b><b><span style="font-family:宋体;">语句</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;proc2(</span><span>IN</span><span>&nbsp;parameter&nbsp;</span><span>int</span><span>) &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>begin</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>declare</span><span>&nbsp;var&nbsp;</span><span>int</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>set</span><span>&nbsp;var=parameter+1; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;if&nbsp;var=0&nbsp;</span><span>then</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>insert</span><span>&nbsp;</span><span>into</span><span>&nbsp;t&nbsp;</span><span>values</span><span>(17); &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>&nbsp;if; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;if&nbsp;parameter=0&nbsp;</span><span>then</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>update</span><span>&nbsp;t&nbsp;</span><span>set</span><span>&nbsp;s1=s1+1; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>else</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>update</span><span>&nbsp;t&nbsp;</span><span>set</span><span>&nbsp;s1=s1+2; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>&nbsp;if; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;; &nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><br />
</span><span><b><span style="font-family:宋体;">Ⅱ</span></b><b><span style="font-family:Arial;">. case</span></b><b><span style="font-family:宋体;">语句：</span></b></span>&nbsp;<span style="font-family:Arial;"><span><br />
</span></span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;proc3&nbsp;(</span><span>in</span><span>&nbsp;parameter&nbsp;</span><span>int</span><span>) &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>begin</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>declare</span><span>&nbsp;var&nbsp;</span><span>int</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>set</span><span>&nbsp;var=parameter+1; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>case</span><span>&nbsp;var &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>when</span><span>&nbsp;0&nbsp;</span><span>then</span><span>&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>insert</span><span>&nbsp;</span><span>into</span><span>&nbsp;t&nbsp;</span><span>values</span><span>(17); &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>when</span><span>&nbsp;1&nbsp;</span><span>then</span><span>&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>insert</span><span>&nbsp;</span><span>into</span><span>&nbsp;t&nbsp;</span><span>values</span><span>(18); &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>else</span><span>&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>insert</span><span>&nbsp;</span><span>into</span><span>&nbsp;t&nbsp;</span><span>values</span><span>(19); &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>&nbsp;</span><span>case</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span>(3).</span></span></b>&nbsp;<b><span style="font-family:宋体;">循环语句</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span style="font-family:宋体;">Ⅰ</span></b><b><span style="font-family:Arial;">. while ···· end while</span></b><b><span style="font-family:宋体;">：</span></b></span><span style="font-family:Arial;"><br />
</span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;proc4() &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>begin</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>declare</span><span>&nbsp;var&nbsp;</span><span>int</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>set</span><span>&nbsp;var=0; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;while&nbsp;var&lt;6&nbsp;do &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>insert</span><span>&nbsp;</span><span>into</span><span>&nbsp;t&nbsp;</span><span>values</span><span>(var); &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>set</span><span>&nbsp;var=var+1; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>&nbsp;while; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span style="font-family:宋体;">Ⅱ</span></b><b><span style="font-family:Arial;">. repeat···· end repeat</span></b><b><span style="font-family:宋体;">：</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:26.25pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">它在执行操作后检查结果，而</span><span style="font-family:Arial;">while</span><span style="font-family:宋体;">则是执行前进行检查。</span></span><span style="font-family:Arial;"><br />
</span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;proc5&nbsp;() &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>begin</span><span>&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>declare</span><span>&nbsp;v&nbsp;</span><span>int</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>set</span><span>&nbsp;v=0; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;repeat &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>insert</span><span>&nbsp;</span><span>into</span><span>&nbsp;t&nbsp;</span><span>values</span><span>(v); &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>set</span><span>&nbsp;v=v+1; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;until&nbsp;v&gt;=5 &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>&nbsp;repeat; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;; &nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><br />
</span><span><b><span style="font-family:宋体;">Ⅲ</span></b><b><span style="font-family:Arial;">. loop ·····end loop:</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:26.25pt;background-color:#E8DCC8;">
	<span><span style="font-family:Arial;">loop</span><span style="font-family:宋体;">循环不需要初始条件，这点和</span><span style="font-family:Arial;">while</span>&nbsp;<span style="font-family:宋体;">循环相似，同时和</span><span style="font-family:Arial;">repeat</span><span style="font-family:宋体;">循环一样不需要结束条件</span><span style="font-family:Arial;">, leave</span><span style="font-family:宋体;">语句的意义是离开循环。</span></span><span style="font-family:Arial;"><br />
</span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;proc6&nbsp;() &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>begin</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>declare</span><span>&nbsp;v&nbsp;</span><span>int</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>set</span><span>&nbsp;v=0; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;LOOP_LABLE:loop &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>insert</span><span>&nbsp;</span><span>into</span><span>&nbsp;t&nbsp;</span><span>values</span><span>(v); &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>set</span><span>&nbsp;v=v+1; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;if&nbsp;v&nbsp;&gt;=5&nbsp;</span><span>then</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;leave&nbsp;LOOP_LABLE; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>&nbsp;if; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>&nbsp;loop; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;; &nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span style="font-family:宋体;">Ⅳ</span></b><b><span style="font-family:Arial;">. LABLES</span></b>&nbsp;<b><span style="font-family:宋体;">标号：</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">标号可以用在</span><span style="font-family:Arial;">begin repeat while</span>&nbsp;<span style="font-family:宋体;">或者</span><span style="font-family:Arial;">loop</span>&nbsp;<span style="font-family:宋体;">语句前，语句标号只能在合法的语句前面使用。可以跳出循环，使运行指令达到复合语句的最后一步。</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:21pt;background-color:#E8DCC8;">
	<span style="font-family:Arial;"><span>&nbsp;</span></span>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span>(4). ITERATE</span></span></b><b><span style="font-family:宋体;">迭代</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span style="font-family:宋体;">Ⅰ</span></b><b><span style="font-family:Arial;">. ITERATE:</span></b></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:26.25pt;background-color:#E8DCC8;">
	<span><span style="font-family:宋体;">通过引用复合语句的标号</span><span style="font-family:Arial;">,</span><span style="font-family:宋体;">来从新开始复合语句</span></span><span style="font-family:Arial;"><br />
</span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;</span><span>CREATE</span><span>&nbsp;</span><span>PROCEDURE</span><span>&nbsp;proc10&nbsp;() &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>begin</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>declare</span><span>&nbsp;v&nbsp;</span><span>int</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>set</span><span>&nbsp;v=0; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;LOOP_LABLE:loop &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;if&nbsp;v=3&nbsp;</span><span>then</span><span>&nbsp;&nbsp;&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>set</span><span>&nbsp;v=v+1; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;ITERATE&nbsp;LOOP_LABLE; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>&nbsp;if; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>insert</span><span>&nbsp;</span><span>into</span><span>&nbsp;t&nbsp;</span><span>values</span><span>(v); &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>set</span><span>&nbsp;v=v+1; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;if&nbsp;v&gt;=5&nbsp;</span><span>then</span><span>&nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;leave&nbsp;LOOP_LABLE; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>&nbsp;if; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>&nbsp;loop; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;</span><span>end</span><span>; &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;// &nbsp;</span>
	</li>
	<li>
		<span>mysql&nbsp;&gt;&nbsp;DELIMITER&nbsp;;&nbsp;</span>
	</li>
</ol>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span style="font-family:Arial;"><span>&nbsp;</span></span>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;text-indent:-18pt;background-color:#E8DCC8;">
	<span><b><span style="line-height:24px;font-size:12pt;"><span>9.<span style="line-height:normal;font-weight:normal;font-size:7pt;font-family:'Times new roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></b>&nbsp;<b><span style="line-height:24px;font-size:12pt;">MySQL</span></b></span><b><span style="line-height:24px;font-family:宋体;font-size:12pt;">存储过程的基本函数</span></b>
</p>
<p style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<b><span style="line-height:24px;font-size:12pt;"><span>&nbsp;</span></span></b>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span>(1).</span></span></b><b><span style="font-family:宋体;">字符串类</span></b></span>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span><span>CHARSET(str) //</span></span><span style="font-family:宋体;">返回字串字符集</span></span><span><br />
<span>CONCAT (string2 [,... ]) //</span></span><span style="font-family:宋体;"><span>连接字串</span></span><span><br />
<span>INSTR (string ,substring ) //</span></span><span><span style="font-family:宋体;">返回</span><span><span>substring</span></span><span style="font-family:宋体;">首次在</span><span><span>string</span></span><span style="font-family:宋体;">中出现的位置</span><span><span>,</span></span><span style="font-family:宋体;">不存在返回</span></span><span><span><span>0<br />
LCASE (string2 ) //</span></span><span style="font-family:宋体;">转换成小写</span></span><span><br />
<span>LEFT (string2 ,length ) //</span></span><span><span style="font-family:宋体;">从</span><span><span>string2</span></span><span style="font-family:宋体;">中的左边起取</span><span><span>length</span></span><span style="font-family:宋体;">个字符</span></span><span><br />
<span>LENGTH (string ) //string</span></span><span style="font-family:宋体;"><span>长度</span></span><span><br />
<span>LOAD_FILE (file_name ) //</span></span><span style="font-family:宋体;"><span>从文件读取内容</span></span><span><br />
<span>LOCATE (substring , string [,start_position ] )</span></span>&nbsp;<span><span style="font-family:宋体;">同</span><span><span>INSTR,</span></span><span style="font-family:宋体;">但可指定开始位置</span></span><span><br />
<span>LPAD (string2 ,length ,pad ) //</span></span><span><span style="font-family:宋体;">重复用</span><span><span>pad</span></span><span style="font-family:宋体;">加在</span><span><span>string</span></span><span style="font-family:宋体;">开头</span><span><span>,</span></span><span style="font-family:宋体;">直到字串长度为</span></span><span><span><span>length<br />
LTRIM (string2 ) //</span></span><span style="font-family:宋体;">去除前端空格</span></span><span><br />
<span>REPEAT (string2 ,count ) //</span></span><span><span style="font-family:宋体;">重复</span><span><span>count</span></span><span style="font-family:宋体;">次</span></span><span><br />
<span>REPLACE (str ,search_str ,replace_str ) //</span></span><span><span style="font-family:宋体;">在</span><span><span>str</span></span><span style="font-family:宋体;">中用</span><span><span>replace_str</span></span><span style="font-family:宋体;">替换</span></span><span><span><span>search_str<br />
RPAD (string2 ,length ,pad) //</span></span><span style="font-family:宋体;">在</span><span><span>str</span></span><span style="font-family:宋体;">后用</span><span><span>pad</span></span><span style="font-family:宋体;">补充</span><span><span>,</span></span><span style="font-family:宋体;">直到长度为</span></span><span><span><span>length<br />
RTRIM (string2 ) //</span></span><span style="font-family:宋体;">去除后端空格</span></span><span><br />
<span>STRCMP (string1 ,string2 ) //</span></span><span style="font-family:宋体;"><span>逐字符比较两字串大小</span></span><span><span><span>,<br />
SUBSTRING (str , position [,length ]) //</span></span><span style="font-family:宋体;">从</span><span><span>str</span></span><span style="font-family:宋体;">的</span><span><span>position</span></span><span style="font-family:宋体;">开始</span><span><span>,</span></span><span style="font-family:宋体;">取</span><span><span>length</span></span><span style="font-family:宋体;">个字符</span></span><span><span><span>,<br />
</span></span><span style="font-family:宋体;">注：</span><span><span>mysql</span></span><span style="font-family:宋体;">中处理字符串时，默认第一个字符下标为</span><span><span>1</span></span><span style="font-family:宋体;">，即参数</span><span><span>position</span></span><span style="font-family:宋体;">必须大于等于</span><span><span>1</span></span></span>&nbsp;
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	&nbsp;
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span><span>mysql&gt;&nbsp;</span><span>select</span><span>&nbsp;</span><span>substring</span><span>(</span><span>'abcd'</span><span>,0,2); &nbsp;</span></span>
	</li>
	<li>
		<span>+</span><span>-----------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;</span><span>substring</span><span>(</span><span>'abcd'</span><span>,0,2)&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-----------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-----------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>1&nbsp;row&nbsp;</span><span>in</span><span>&nbsp;</span><span>set</span><span>&nbsp;(0.00&nbsp;sec) &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;</span>
	</li>
	<li>
		<span>mysql&gt;&nbsp;</span><span>select</span><span>&nbsp;</span><span>substring</span><span>(</span><span>'abcd'</span><span>,1,2); &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-----------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;</span><span>substring</span><span>(</span><span>'abcd'</span><span>,1,2)&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-----------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-----------------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>1&nbsp;row&nbsp;</span><span>in</span><span>&nbsp;</span><span>set</span><span>&nbsp;(0.02&nbsp;sec) &nbsp;</span>
	</li>
</ol>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span><span>TRIM([[BOTH|LEADING|TRAILING] [padding] FROM]string2) //</span></span><span style="font-family:宋体;">去除指定位置的指定字符</span></span><span><br />
<span>UCASE (string2 ) //</span></span><span style="font-family:宋体;"><span>转换成大写</span></span><span><br />
<span>RIGHT(string2,length) //</span></span><span><span style="font-family:宋体;">取</span><span><span>string2</span></span><span style="font-family:宋体;">最后</span><span><span>length</span></span><span style="font-family:宋体;">个字符</span></span><span><br />
<span>SPACE(count) //</span></span><span><span style="font-family:宋体;">生成</span><span><span>count</span></span><span style="font-family:宋体;">个空格</span></span>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span>(2).</span></span></b><b><span style="font-family:宋体;">数学类</span></b></span>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span><span>ABS (number2 ) //</span></span><span style="font-family:宋体;">绝对值</span></span><span><br />
<span>BIN (decimal_number ) //</span></span><span style="font-family:宋体;"><span>十进制转二进制</span></span><span><br />
<span>CEILING (number2 ) //</span></span><span style="font-family:宋体;"><span>向上取整</span></span><span><br />
<span>CONV(number2,from_base,to_base) //</span></span><span style="font-family:宋体;"><span>进制转换</span></span><span><br />
<span>FLOOR (number2 ) //</span></span><span style="font-family:宋体;"><span>向下取整</span></span><span><br />
<span>FORMAT (number,decimal_places ) //</span></span><span style="font-family:宋体;"><span>保留小数位数</span></span><span><br />
<span>HEX (DecimalNumber ) //</span></span><span style="font-family:宋体;"><span>转十六进制</span></span><span><br />
</span><span><span style="font-family:宋体;">注：</span><span><span>HEX()</span></span><span style="font-family:宋体;">中可传入字符串，则返回其</span><span><span>ASC</span><span>-11</span><span style="font-family:宋体;"><span>码</span></span><span style="font-family:宋体;">，如</span><span>HEX('DEF')</span></span><span style="font-family:宋体;">返回</span></span><span><span><span>4142143<br />
</span></span><span style="font-family:宋体;">也可以传入十进制整数，返回其十六进制编码，如</span><span><span>HEX(25)</span></span><span style="font-family:宋体;">返回</span></span><span><span><span>19<br />
LEAST (number , number2 [,..]) //</span></span><span style="font-family:宋体;">求最小值</span></span><span><br />
<span>MOD (numerator ,denominator ) //</span></span><span style="font-family:宋体;"><span>求余</span></span><span><br />
<span>POWER (number ,power ) //</span></span><span style="font-family:宋体;"><span>求指数</span></span><span><br />
<span>RAND([seed]) //</span></span><span style="font-family:宋体;"><span>随机数</span></span><span><br />
<span>ROUND (number [,decimals ]) //</span></span><span><span style="font-family:宋体;">四舍五入</span><span><span>,decimals</span></span><span style="font-family:宋体;">为小数位数</span><span><span>]</span></span></span>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span style="font-family:宋体;"><span>注：返回类型并非均为整数，如：</span></span><span><br />
<span>(1)</span></span><span style="font-family:宋体;"><span>默认变为整形值</span></span><span><br />
</span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span><span>mysql&gt;&nbsp;</span><span>select</span><span>&nbsp;round(1.23); &nbsp;</span></span>
	</li>
	<li>
		<span>+</span><span>-------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;round(1.23)&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>1&nbsp;row&nbsp;</span><span>in</span><span>&nbsp;</span><span>set</span><span>&nbsp;(0.00&nbsp;sec) &nbsp;</span>
	</li>
	<li>
		<span>&nbsp;</span>
	</li>
	<li>
		<span>mysql&gt;&nbsp;</span><span>select</span><span>&nbsp;round(1.56); &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;round(1.56)&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>-------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>1&nbsp;row&nbsp;</span><span>in</span><span>&nbsp;</span><span>set</span><span>&nbsp;(0.00&nbsp;sec)&nbsp;</span>
	</li>
</ol>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><span><br />
(2)</span></span><span style="font-family:宋体;"><span>可以设定小数位数，返回浮点型数据</span></span><span><br />
</span>
</p>
<ol style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<li>
		<span><span><span><span><span>mysql&gt;&nbsp;</span><span>select</span><span>&nbsp;round(1.567,2); &nbsp;</span></span></span></span></span>
	</li>
	<li>
		<span>+</span><span>----------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;round(1.567,2)&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>----------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.57&nbsp;| &nbsp;</span>
	</li>
	<li>
		<span>+</span><span>----------------+</span>&nbsp;<span>&nbsp;</span>
	</li>
	<li>
		<span>1&nbsp;row&nbsp;</span><span>in</span><span>&nbsp;</span><span>set</span><span>&nbsp;(0.00&nbsp;sec)&nbsp;</span>
	</li>
</ol>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	SIGN (number2 ) //
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<b><span style="line-height:21px;"><span>&nbsp;</span></span></b>
</p>
<p align="left" style="color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;">
	<span><b><span><span>(3).</span></span></b><b><span style="font-family:宋体;">日期时间类</span></b></span>
</p>
<span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">ADDTIME (date2 ,time_interval ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">将</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">time_interval</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">加到</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">date2<br />
CONVERT_TZ (datetime2 ,fromTZ ,toTZ ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">转换时区</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
CURRENT_DATE ( ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">当前日期</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
CURRENT_TIME ( ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">当前时间</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
CURRENT_TIMESTAMP ( ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">当前时间戳</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
DATE (datetime ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">返回</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">datetime</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">的日期部分</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
DATE_ADD (date2 , INTERVAL d_value d_type ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">在</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">date2</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">中加上日期或时间</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
DATE_FORMAT (datetime ,FormatCodes ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">使用</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">formatcodes</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">格式显示</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">datetime<br />
DATE_SUB (date2 , INTERVAL d_value d_type ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">在</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">date2</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">上减去一个时间</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
DATEDIFF (date1 ,date2 ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">两个日期差</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
DAY (date ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">返回日期的天</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
DAYNAME (date ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">英文星期</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
DAYOFWEEK (date ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">星期</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">(1-7) ,1</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">为星期天</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
DAYOFYEAR (date ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">一年中的第几天</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
EXTRACT (interval_name FROM date ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">从</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">date</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">中提取日期的指定部分</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
MAKEDATE (year ,day ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">给出年及年中的第几天</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">,</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">生成日期串</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
MAKETIME (hour ,minute ,second ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">生成时间串</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
MONTHNAME (date ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">英文月份名</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
NOW ( ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">当前时间</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
SEC_TO_TIME (seconds ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">秒数转成时间</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
STR_TO_DATE (string ,format ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">字串转成时间</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">,</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">以</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">format</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">格式显示</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
TIMEDIFF (datetime1 ,datetime2 ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">两个时间差</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
TIME_TO_SEC (time ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">时间转秒数</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;">]<br />
WEEK (date_time [,start_of_week ]) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">第几周</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
YEAR (datetime ) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">年份</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
DAYOFMONTH(datetime) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">月的第几天</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
HOUR(datetime) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">小时</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
LAST_DAY(date) //date</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">的月的最后日期</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
MICROSECOND(datetime) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">微秒</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
MONTH(datetime) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">月</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:'Times new roman';background-color:#E8DCC8;"><br />
MINUTE(datetime) //</span><span style="line-height:21px;color:#464646;font-size:10.5pt;font-family:宋体;background-color:#E8DCC8;">分</span><span style="line-height:21px;color:#464646;font-size:14px;font-family:宋体;background-color:#E8DCC8;">返回符号</span><span style="line-height:21px;color:#464646;font-family:simsun;font-size:14px;background-color:#E8DCC8;"><span>,</span></span><span style="line-height:21px;color:#464646;font-size:14px;font-family:宋体;background-color:#E8DCC8;">正负或</span><span style="background-color:#E8DCC8;"><span><span>0<br />
SQRT(number2) //</span></span><span style="font-family:宋体;">开平方</span></span></body></html>